{% extends 'layout.html.twig' %}
{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    <main>
    <h1 class="connection_title">Se connecter Ã  WildForm</h1>

    <div class="connection_box">
    <form method="post" form action="">
    <input type="email" class="connection_input" id="email" name="email" placeholder="Email">
{% if errors.email %}
                <div class="errors">{{ errors.email }}</div>
            {% endif %}
<div class="password-container">
    <input type="password" class="connection_input" id="password" name="password" placeholder="Mot de passe">
<i class="bi bi-eye-slash" id="togglePassword"></i>
</div>
{% if errors.password %}
                <div class="errors">{{ errors.password }}</div>
            {% endif %}
    </div>
    <div>
    <button class="button">Se connecter</button>
    </div>
    </form>
    </div>
    <div class="connection_link">
    <a href="register">S'inscrire sur WildForm</a>
    </div>

{% block javascript %}
<script>
  const togglePassword = document.querySelector("#togglePassword");
        const password = document.querySelector("#password");

        togglePassword.addEventListener("click", function () {
            // toggle the type attribute
            const type = password.getAttribute("type") === "password" ? "text" : "password";
            password.setAttribute("type", type);
            
            // toggle the icon
            this.classList.toggle("bi-eye");
        });

        // prevent form submit
      //  const form = document.querySelector("form");
      //  form.addEventListener('submit', function (e) {
       //     e.preventDefault();
       // });
</script>
{% endblock %}
    </main>
{% endblock %}