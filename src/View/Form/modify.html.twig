{% extends 'layout.html.twig' %}

{% block title %}
	Mes formulaires - Créer un formulaire
{% endblock %}

{% block stylesheet %}
	<link rel="stylesheet" href="/assets/css/formstyle.css">
{% endblock %}

{% block content %}


	<main class='createForm'>
		<div>
			{% if form %}
				<h1 id='formTitle' contenteditable='true'>{{form.name}}</h1>
				<form method='post'>
					<input type='text' name='title' id='title' hidden>
					<button name='changeTitle' class='none' type='submit'>Modifier le titre</button>
				</form>
			{% endif %}

			<button class='button' id='addAQuestion'>Ajouter une question</button>
		</div>
		<div id='errors'>
			{% if errors %}
				<ul>
					{% for error in errors %}
						<li>{{error}}</li>
					{% endfor %}
				</ul>
			{% endif %}
		</div>
		<div
			id='savedQuestions'><!-- questions enregistrées -->
		</div>
		<div
			id="questions"><!-- les questions apparaitront ici -->
		</div>
		<div>
			<form method='post' id='savePost'>
				<input type='text' id='formContent' name='formContent' value='' hidden>
				<button type='submit' name='draftForm' class='button not-priority'>Enregister le brouillon</button>
				<button type='submit' name='saveForm' class='button'>Enregister le formulaire</button>
			</form>
		</div>

	</main>
{% endblock %}

{% set dataObjects = tools %}
{% block javascript %}
	<script src='assets/js/Question.js'></script>
	<script src='assets/js/Questions.js'></script>
	<script>
		let fromPHP = "{{ dataObjects|json_encode()|escape('js') }}";
	</script>

	<script src='assets/js/formfunctions.js'></script>
	<script src='assets/js/formAddQuestions.js'></script>
{% endblock %}
